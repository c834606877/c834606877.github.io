---
layout: post
title: 使用STM32可编程芯片的制作的机械键盘主控

categories:
- MCU
- STM32
tags: [客制化机械键盘, 机械键盘主控器]

author:
  login: lanbing
  email: c834606877@163.com
---



曾经是去年四月的想法，自定义一把顺手的机械键盘，终于到了今年暑期才完成，可怕的拖延症。



然而并不是像想象的那么简单，拿到手的是一把 JAGOR TITON 100 ，由于键盘主控制器与轴板是可分离的连接方式，才有了这个想法。



这其中所要经历的工作有：主控芯片的选择，设计键盘主控制器PCB，为其焊接可编程芯片，开发主控代码，完全拆卸键盘结构，重新焊接键盘轴体和布局背光灯。



芯片选择至关重要，最终找到了一块引脚数量足够多，而且又不缺Demo的Stm32f103c8t6。

将芯片所有多功能引脚全改为IO引脚，其中8个IO作为外部中断使用的列矩阵引脚，其余做为行矩阵引脚，留出多余的用作LED指示灯。

 

PCB板的设计大小长宽不能超过50＊13mm，使用芯片的最小核心Demo，研究了一番，将多余芯片功能去掉，最后根据轴板IC座引脚功能，调整芯片和电容电阻位置以达到最大化的引脚对应和最少的线路穿插（AD提供鸡肋的组件布局自动化浪费了半天的时间，最后还是手动布局比较靠谱）。最后将设计文档交给华强北的PCB打印厂，50包邮搞定~



接着是将从taobao买到的STM芯片焊到PCB上，没有专业的工具，多用一些松香增加锡的张力，一支尖角电烙铁也可以搞定。



轴板拆缷要借助吸锡器来完成，像PCB这类除了第一次生产之后，永不变动的东西，要再进行二次焊接的话，焊盘很容易脱落，所以改轴和灯光部分需要一次完成。



